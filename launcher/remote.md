# SakuraFrp 启动器远程管理指南

SakuraFrp Launcher v2.0.0.0 及以上版本提供了远程管理功能，可以在 Sakura Frp 网站上对启动器进行管理。

::: tip
从 v2.0.1.2 开始，启动器远程管理支持 Windows 7 及以上系统。仅 WPF 启动器支持远程管理。
:::

远程管理功能使用 **端对端加密** 技术，这可以确保即使 Sakura Frp 的远程管理服务器遭到入侵，您的计算机也不会因为开启了远程管理功能而被攻击。您可以前往 [GitHub](https://github.com/natfrp/SakuraFrpLauncher/blob/master/SakuraFrpService/Manager/RemoteManager.cs ':target=_blank') 审计相关代码。

## 配置远程管理 {#setup}

1. 首先，您需要配置端对端加密密码，点击 “设置密码” 按钮：

   ![](_images/remote-0.png)

2. 输入一个 **安全** 的密码 (建议长度大于 14 位，包含字母数字和标点符号)，随后阅读并同意风险提示，点击 “更新” 来设置密码：

   ::: tip
   您可以随时更新密码，更新后即时生效，无需开关远程管理
   :::

   ![](_images/remote-1.png)

3. 打开远程管理开关：

   ![](_images/remote-2.png)

4. 检查日志，看到 `远程管理已连接` 字样则说明远程管理配置成功，如果看到其他错误请自行排查。

   ![](_images/remote-3.png)

## 连接远程设备 {#connect}

1. 登录管理面板，在侧边栏点击 “远程管理”：

   ![](_images/remote-4.png)

2. 按计算机名选择要连接的设备，然后输入端对端加密密钥并点击确定。连接过程可能较慢，这是因为浏览器正在计算加密密钥。

   ::: tip
   您可以勾选 **保存密码** 在本地存储计算后的密钥，下次连接时就会快很多。**请勿在公共计算机上勾选此选项。**
   :::

   ![](_images/remote-5.png)

3. 连接成功后就会显示 **隧道列表**、**日志查看** 两个卡片，否则页面会提示错误信息。

4. 如果需要切换设备，点击 **断开连接** 按钮并重新连接即可。

   ![](_images/remote-6.png)

## 管理远程设备 {#manage}

- 在 **隧道列表** 卡片中可以开关各个隧道或从 Sakura Frp 重新同步隧道信息：

  ![](_images/remote-7.png)

- 在 **日志查看** 卡片中可以看到启动器的日志信息，右上角可以清空日志或刷新：

  ::: tip
  日志不是实时更新的，需要手动刷新
  :::

  ![](_images/remote-8.png)

## 强制下线 {#kick}

::: warning
强制下线后启动器会重新初始化远程管理，不保证能正常重连到管理服务器，请小心操作。  
目前远程管理功能运行稳定，没有已知 Bug，绝大多数情况下无需使用此功能。碰到问题请先等几分钟或者刷新页面重试，不要急着点下线。
:::

1. 点击 “强制下线” 按钮，在弹出的提示框中确认操作：

   ![](_images/remote-9.png)

2. 在正常情况下启动器会出现图中的日志并在一分钟后重连，此时远程管理已断开，刷新是刷不到这个日志的：

   ![](_images/remote-10.png)

3. **等待 1~2 分钟**，然后重新连接即可正常使用。
